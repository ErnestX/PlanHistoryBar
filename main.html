<!DOCTYPE html>
<!--http://www.kirupa.com/html5/creating_a_sweet_content_slider.htm-->
<html>
<head>
    <script src="jquery-1.11.3.js"></script>
    <script src="uiHelpers.js"></script>
    <script>$(document).ready(function(){
        var photos = [];
        var photoBar = document.createElement("div");
    
        var activePhotoIndex = 4;
    
        photoBar.classList.add("bar");
        document.getElementById("barContainer").appendChild(photoBar);
        var i;
        for (i=0; i < 15; i++) {
            var img = getPlanAtIndex(i);
            img.classList.add("photo");
            img.classList.add("unselected");
            photoBar.appendChild(img);
            photos[i] = img;
        }
        
        highlightObject(photos[activePhotoIndex]);
    
        $("#left").click(function(){
            if (activePhotoIndex - 1 >= 0) {
                activePhotoIndex--;
                selectIndex(activePhotoIndex);
            }
        })
        
        $("#right").click(function(){
            if (activePhotoIndex + 1 < photos.length) {
                activePhotoIndex++;
                selectIndex(activePhotoIndex);
            }
        })
        
        function selectIndex(planIndex) {
            console.log(photos[planIndex].offsetLeft);
            var i;
            for (i=0; i < photos.length; i++) {
                unHighlightObject(photos[i]);
            }
            
            highlightObject(photos[planIndex]);
//            moveObjectLeftToPos(photoBar, document.getElementById("barContainer").offsetWidth/2.0 -  activePhotoIndex * 100.0 - 145.0/2.0);
//            moveObjectLeftToPos(photoBar, document.getElementById("barContainer").offsetWidth/2.0 -  photos[activePhotoIndex].offsetLeft);
//            console.log(document.getElementById("barContainer").offsetWidth);
            
//            moveObjectLeftToPos(photoBar, -1 * planIndex * (img.width + 3));    
        }
    })
    </script>
    <link rel=stylesheet href="style.css">
</head>

<body>
    <div id="barContainer"> 
        <div id="charts"></div>
    </div>
    <div id="detailView"></div>
    
    <p>
        <button id="left">left</button>
        <button id="right">right</button>
    </p>
    <p>
        <button id="lastPage">last page</button>
        <button id="nextPage">next page</button>
    </p>
</body>
</html>