<!DOCTYPE html>
<!--http://www.kirupa.com/html5/creating_a_sweet_content_slider.htm-->
<html>
<head>
    <script src="jquery-1.11.3.js"></script>
    <script src="uiHelpers.js"></script>
    <script>$(document).ready(function(){
    
        var activePhotoIndex = 3;
        var rangeLeft = 0;
        var rangeRight = 7;

        var i;
        for (i=rangeLeft; i < rangeRight; i++) {
            var img = getPlanAtIndex(i);
            initPlan(img);
            $("#bar").append(img);
        }
        
        selectIndex(activePhotoIndex);
        
        $("#left").click(function(){
//            if (activePhotoIndex - 1 >= 0) {
                activePhotoIndex--;
                selectIndex(activePhotoIndex);
                
                var newImg = getPlanAtIndex(rangeLeft - 1);
                initPlan(newImg);
                $("#bar").prepend(newImg);
                rangeLeft -= 1;
//                }
        })
        
        $("#right").click(function() {
                activePhotoIndex++;
                selectIndex(activePhotoIndex);
                
                $("#bar").children().eq(0).remove();
                rangeLeft+=1;
        })
        
        function selectIndex(planIndex) {
            $("#bar").children().removeClass("selected");
            $("#bar").children().addClass("unselected");
            
            $("#bar").children().eq(planIndex - rangeLeft).removeClass("unselected");
            $("#bar").children().eq(planIndex - rangeLeft).addClass("selected");
        }
    })
    </script>
    <link rel=stylesheet href="style.css">
</head>

<body>
    <div id="barContainer"> 
        <div id="bar"></div>
<!--        <div id="charts"></div>-->
    </div>
    <div id="detailView"></div>
    
    <p>
        <button id="left">left</button>
        <button id="right">right</button>
    </p>
    <p>
        <button id="lastPage">last page</button>
        <button id="nextPage">next page</button>
    </p>
</body>
</html>